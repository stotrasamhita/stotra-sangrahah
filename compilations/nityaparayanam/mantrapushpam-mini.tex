% !TeX program = XeLaTeX
% !TeX root = mantrapushpam-mini.tex

\documentclass[twoside,12pt]{book}
\usepackage{shloka}

%%% PAGE SIZE and MARGINS %%%
\usepackage[paperwidth=126mm,paperheight=168mm,left=5mm,right=5mm,top=15mm,bottom=20mm]{geometry}
\setmainfont[Script=Devanagari]{Siddhanta}
% \setmainfont[Script=Devanagari,Mapping=tex-text]{Sanskrit 2003}

%%% HEADERS and FOOTERS %%%
\usepackage{fancyhdr}
\pagestyle{fancyplain}
\setlength{\headheight}{28pt}
\lhead[\fancyplain{}{\pagenumfont\large\thepage}]
   {\fancyplain{}{\leftmark}}
\rhead[\fancyplain{}{\leftmark}]
   {\fancyplain{}{\pagenumfont\large\thepage}}
\cfoot{}

\fancypagestyle{fancyplain}{ %
\fancyhf{} % remove everything
\renewcommand{\headrulewidth}{0pt} % remove lines as well
\renewcommand{\footrulewidth}{0pt}
\cfoot{\pagenumfont\large\thepage}}

%%% SECTIONS and CHAPTERS %%%
\makeatletter
\renewcommand\section{\resetShloka\@startsection {section}{1}{\z@}%
%{2.3ex \@plus.2ex}%
%{-3.5ex \@plus -1ex \@minus -.2ex}%
%{2.3ex \@plus.2ex}%
{10pt}
{2pt}
{\centering\normalfont\LARGE\bfseries}}

\renewcommand\chapter{\resetShloka\@startsection {chapter}{1}{\z@}%
{10pt}
{2pt}
{\normalfont\LARGE\bfseries\filcenter}}
\makeatother

\setcounter{secnumdepth}{-1}
%for weird reasons this does not bookmark the section start, but the start of text in the section!!!
%\renewcommand\thesection{}
\renewcommand{\sectionmark}[1]{%
\markboth{\large #1}{}}
\renewcommand{\subsectionmark}[1]{%
\markboth{\large #1}{}}
\renewcommand{\chaptermark}[1]{%
\markboth{\large #1}{}}

\addtolength{\parskip}{4pt}
%\addtolength{\headsep}{10pt}
\setlength{\columnseprule}{1pt}
\setlength{\columnsep}{30pt}
\setlength{\parindent}{0pt}

%%% HYPERLINKS %%%
\usepackage[bookmarks=true,bookmarksopen=true,xetex,colorlinks=true,
linkcolor=black,            % colour of internal links
citecolor=cyan,             % colour of links to bibliography
filecolor=magenta,          % colour of file links
urlcolor=blue               % colour of external links
]{hyperref}

%%% MISCELLANEOUS %%%
\hbadness=10000
\vbadness=10000
\hfuzz=6pt
%\listfiles

\newcommand{\ar}{\char"0930\char"094D\char"E009}
\newcommand{\ur}{\char"0930\char"094D\char"200C}
\newcommand{\sr}{\char"0930\char"094D\char"E007}
\newcommand{\sn}{\char"0928\char"094D\char"E007}
\newcommand{\snn}{\char"0928\char"094D\char"0928\char"094D\char"E007}
\newcommand{\an}{\char"0928\char"094D\char"E009}
\newcommand{\aav}{\char"093D\char"E009}
\newcommand{\sav}{\char"093D\char"E007}
\newcommand{\sG}{\char"0919\char"094D\char"E007}
\begin{document}
\pagenumbering{Roman}
\thispagestyle{empty}\clearpage
\begin{titlepage}
    \vspace*{6.5cm}
    \begin{center}
        {\font\x="Sanskrit 2003:script=deva,mapping=tex-text" at 64pt \x मन्त्रपुष्पम्}
    \end{center}
\end{titlepage}

\clearemptydoublepage %
\setcounter{page}{0} %
\pagenumbering{roman} %
\renewcommand{\chaptermark}[1]{%
    \markboth{\large #1}{}} %
\pdfbookmark[1]{Contents}{Contents} %
%\begin{center}
\begin{large}
    \tableofcontents
\end{large}
%\end{center}

\mbox{}
\clearpage
\thispagestyle{empty}
\clearemptydoublepage
%\setmainfont[Script=Devanagari,Mapping=tex-text,FakeStretch=1.08]{Sanskrit 2003}
%\setmainfont[Script=Devanagari,Mapping=tex-text]{Chandas}
%\setmainfont[Script=Devanagari,Mapping=tex-text]{Siddhanta}
%\setmainfont[Script=Devanagari,Mapping=tex-text]{Sanskrit 2003}
\fontsize{18pt}{22pt}\selectfont
%The following alters word spacing to ensure that words aren't too close to one another!
\spaceskip=1\fontdimen2\font plus 1\fontdimen3\font minus 1.25\fontdimen4\font
\setlength{\parindent}{0pt}
\setlength{\emergencystretch}{3em}
\setcounter{page}{0}
\pagenumbering{arabic}
\renewcommand{\chaptermark}[1]{%
    \markboth{\large #1}{}}
\fontsize{19pt}{23pt}\selectfont
\makeatletter
  \def\vhrulefill#1{\leavevmode\leaders\hrule\@height#1\hfill \kern\z@}
\makeatother
\newcounter{anuvakam}
\newcommand{\anuvakamend}[1][]{\refstepcounter{anuvakam}%[-1ex]
\newline\ifthenelse{\equal{#1}{}}{\mbox{}}{{\small #1॥}}\nolinebreak[4]\vhrulefill{2.5pt}\raisebox{-4pt}{\bfseries{[\devanumber{\arabic{anuvakam}}]}}%\hrulefill
}
\setlength{\emergencystretch}{3em}

% \sect{prArthanA}

ॐ ग॒णानां त्वा ग॒णप॑ति हवामहे क॒विं क॑वी॒ना\-मु॑प॒मश्र॑वस्तमम्। 
ज्ये॒ष्ठ॒राजं॒ ब्रह्म॑णां ब्रह्मणस्पत॒ आ न॑ शृ॒ण्वन्नू॒तिभि॑ सीद॒ साद॑नम्॥ 
ॐ महागणपतये॒ नमः॥ 

\input{"../../../vedamantra-book/mantras/Ganapatyatharvashirsham.tex"}
% \input{"../../../vedamantra-book/mantras/suryopanishat.tex"}
\input{"../../../vedamantra-book/mantras/LaghuNyasah.tex"} 
\input{"../../../vedamantra-book/mantras/RudraPrashnah.tex"} 
\clearpage
\input{"../../../vedamantra-book/mantras/ChamakaPrashnah.tex"} 

\closesection
\clearpage
\input{"../../../vedamantra-book/mantras/PurushaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/NarayanaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/VishnuSuktam.tex"} 

\closesection
\clearpage
\input{"../../../vedamantra-book/mantras/DurgaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/ShriSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/MedhaSuktam.tex"} 

\closesection
\clearpage
\input{"../../../vedamantra-book/mantras/AghamarshanaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/PavamanaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/TrisuparnaMantrah.tex"} 
\input{"../../../vedamantra-book/mantras/AyushyaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/BhagyaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/NavagrahaSuktam.tex"} 
\input{"../../../vedamantra-book/mantras/NakshatraSuktam.tex"} 

\closesection
\clearpage

\input{"../../../vedamantra-book/mantras/ShantiPanchakam.tex"}
\input{"../../../vedamantra-book/mantras/GhoshaShanti.tex"}
\input{"../../../vedamantra-book/mantras/MantraPushpam.tex"}

\closesection
\clearpage
\chapt{तैत्तिरीय-आरण्यकम्}
\input{"../../../vedamantra-book/aranyakas/ArunaPrashnah.tex"} 
\input{"../../../vedamantra-book/aranyakas/Taittiriyopanishat.tex"} 
\input{"../../../vedamantra-book/aranyakas/Mahanarayanopanishat.tex"} 
\closesection
\end{document}
